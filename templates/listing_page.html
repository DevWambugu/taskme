{% extends "base.html" %}

{% block content %}
<style>
    /* Your existing CSS styles */
    .container.has-text-left {
      position: absolute;
      top: 100px;
      left: 50px;
    }
    #filter-form button {
      background-color: #008e79;
      color: white;
      width: 120px;
      padding: 10px;
      margin: 10px;
      border: 0px;
      border-radius: 10px;
      box-shadow: 4px 4px 6px rgb(189, 189, 189);
    }
    select {
      background-color: white;
      color: black;
      width: 160px;
      padding: 10px;
      border: 0.4px solid #00d1b2;
      margin: 10px;
      border-radius: 10px;
      box-shadow: 4px 4px 4px rgb(189, 189, 189);
    }
    .filter {
      display: flex;
      padding-top: 8px;
      background-color: white;
      border-radius: 10px;
      height: 10vh;
    }
    /* Your existing CSS styles */
  </style>
  
    <div class="container">
        <!-- Flash Messages -->
        {% with messages = get_flashed_messages() %}
        {% if messages %}
        <ul class="flash-messages">
            {% for message in messages %}
            <li class="flash-message">{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}
        {% endwith %}
        <h1 style="text-align: center; color: black; margin-top: -50px; font-size: 24px;">Job Listing</h1>

        <!-- Category Filter -->
        <form id="filter-form" style="margin-bottom: 10px; margin-left: 0 !important;">
            <label for="category-filter">Filter by Category:</label>
            <select id="category-filter" name="category">
                <option value="">All Categories</option>
                {% for category in categories %}
                <option value="{{ category }}" {% if category == selected_category %}selected{% endif %}>{{ category }}</option>
                {% endfor %}
            </select>
            <button type="submit">Filter</button>
        </form>

        <!-- Job Listings -->
        <ul class="job-listing" style="padding: 0; margin-left: 0 !important;">
            {% for job in jobs %}
            <li>
                <a href="{{ url_for('main.job_details', job_id=job.id) }}">{{ job.title }} - {{ job.category }}</a>
            </li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}
